<!doctype html>
<html>

    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
        <title>Akym Sytnyk POrtfolio</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://use.typekit.net/nsm2xoz.css">
        <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
            rel="stylesheet">
        <link rel="stylesheet" href="assets/css/main.css">
        <link rel="stylesheet" href="assets/css/mobile-menu-extra.css">
    </head>

    <body>
        <span id="about" hidden></span>
        <div class="container-fluid page d-flex flex-column min-vh-100 p-0">
            <header class="navbar navbar-expand-lg navbar-dark m-0">
                <div class="container-fluid">
                    <a class="nav-link p-0" href="#">HOME</a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                        data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse links p-0" id="navbarSupportedContent">
                        <div class="row w-100">
                            <div class="col-6 d-flex p-0 justify-content-end">
                                <a class="nav-link nav-home-in-menu" href="#">HOME</a>
                            </div>
                            <div class="col-6 d-flex p-0 justify-content-end">
                                <a class="nav-link" href="#lib">LIBRARY</a>
                            </div>
                            <div class="col-6 d-flex p-0 justify-content-end">
                                <a class="nav-link" href="#about">ABOUT</a>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
            <main class="container-fluid d-flex flex-column flex-grow-1 p-0">
                <div class="home-row row mt-auto align-items-end">
                    <div class="col p-0">
                        <h1>AKYM</h1>
                        <h1>SYTNYK</h1>
                    </div>
                    <div class="col about">
                        <p class="m-0">
                            composer who explores the <br>
                            emotional and spatial potential<br>
                            of orchestral instruments in<br>
                            contemporary art contexts.
                        </p>
                    </div>
                    <div class="col social text-end">
                        <ul>
                            <li>
                                <a href="https://www.instagram.com/sytnyk_sounds/?__d=1%2F" target="_blank">
                                    <img src="assets/icons/insta.svg" alt="Instagram">
                                </a>
                            </li>
                            <li>
                                <a href="https://open.spotify.com/artist/5b6qYN7HLdS1AQcHWxBGEg" target="_blank">
                                    <img src="assets/icons/spotify.svg" alt="Spotify">
                                </a>
                            </li>
                            <li>
                                <a href="https://www.youtube.com/channel/UCwJ4mNOojHxYPsmNtaB45ow" target="_blank">
                                    <img src="assets/icons/youtube.svg" alt="Youtube">
                                </a>
                            </li>
                        </ul>
                    </div>

                </div>

                <section id="lib" class="library">
                    <a href='#' class="close-btn">
                        <img src="assets/icons/close.svg" alt="close">
                    </a>
                    <div class="container-fluid d-flex flex-column p-0 h-100">
                        <div class="row">
                            <ol class="tracks">
                                <li class="row gx-4 align-items-center track">
                                    <!-- <div class="col number-column">
                                        1.
                                    </div> -->
                                    <div class="col-auto icon p-0">
                                        <button type="button" class="play-btn" aria-label="Play">
                                            <img src="assets/icons/play.svg" alt="">
                                        </button>
                                    </div>
                                    <div class="col-6 col-md-2">
                                        WATER
                                    </div>
                                    <div class="col-auto">
                                        2:26
                                    </div>
                                    <div class="col-12 col-sm-6 col-lg-4 mt-2 mt-sm-0">
                                        <audio controls preload="none">
                                            <source src="assets/audio/water.wav" type="audio/wav">
                                        </audio>
                                    </div>
                                </li>
                                <li class="row gx-4 align-items-center track">
                                    <!-- <div class="col number-column">
                                        1.
                                    </div> -->
                                    <div class="col-auto icon p-0">
                                        <button type="button" class="play-btn" aria-label="Play">
                                            <img src="assets/icons/play.svg" alt="">
                                        </button>
                                    </div>
                                    <div class="col-6 col-md-2">
                                        THE HOUSE
                                    </div>
                                    <div class="col-auto">
                                        2:53
                                    </div>
                                    <div class="col-12 col-sm-6 col-lg-4 mt-2 mt-sm-0">
                                        <audio controls preload="none">
                                            <source src="assets/audio/the-house.wav" type="audio/wav">
                                        </audio>
                                    </div>
                                </li>
                                <li class="row gx-4 align-items-center track">
                                    <!-- <div class="col number-column">
                                        1.
                                    </div> -->
                                    <div class="col-auto icon p-0">
                                        <button type="button" class="play-btn" aria-label="Play">
                                            <img src="assets/icons/play.svg" alt="">
                                        </button>
                                    </div>
                                    <div class="col-6 col-md-2">
                                        SUNKISSED
                                    </div>
                                    <div class="col-auto">
                                        2:41
                                    </div>
                                    <div class="col-12 col-sm-6 col-lg-4 mt-2 mt-sm-0">
                                        <audio controls preload="none">
                                            <source src="assets/audio/sunkissed.wav" type="audio/wav">
                                        </audio>
                                    </div>
                                </li>
                                <li class="row gx-4 align-items-center track">
                                    <!-- <div class="col number-column">
                                        2.
                                    </div> -->
                                    <div class="col-auto icon p-0">
                                        <button type="button" class="play-btn" aria-label="Play">
                                            <img src="assets/icons/play.svg" alt="">
                                        </button>
                                    </div>
                                    <div class="col-6 col-md-2">
                                        DEALING
                                    </div>
                                    <div class="col-auto">
                                        2:43
                                    </div>
                                    <div class="col-12 col-sm-6 col-lg-4 mt-2 mt-sm-0">
                                        <audio controls preload="none">
                                            <source src="assets/audio/dealing.wav" type="audio/wav">
                                        </audio>
                                    </div>
                                </li>
                                <li class="row gx-4 align-items-center track">
                                    <!-- <div class="col number-column">
                                        3.
                                    </div> -->
                                    <div class="col-auto icon p-0">
                                        <button type="button" class="play-btn" aria-label="Play">
                                            <img src="assets/icons/play.svg" alt="">
                                        </button>
                                    </div>
                                    <div class="col-6 col-md-2">
                                        LEASSURE
                                    </div>
                                    <div class="col-auto">
                                        2:57
                                    </div>
                                    <div class="col-12 col-sm-6 col-lg-4 mt-2 mt-sm-0">
                                        <audio controls preload="none">
                                            <source src="assets/audio/leasure.wav" type="audio/wav">
                                        </audio>
                                    </div>
                                </li>
                            </ol>
                        </div>
                        <div class="row mt-auto">
                            <h1 class="lib-title">LIBRARY</h1>
                        </div>
                    </div>
                </section>

                <div class="biography">
                    <div class="row">
                        <div class="col d-flex flex-column justify-content-end">
                            <h1>BIOGRAPHY</h1>
                        </div>
                        <div class="col d-flex flex-column justify-content-between">
                            <div class="bio-text bio-scroll">
                               <!-- <p>
                                    Akym Sytnyk is a composer who explores the emotional and spatial potential of orchestral and cinematic music within contemporary art contexts.
                                </p>
                                -->
                                <div class="bio-section">
                                    <div class="bio-h">Projects</div>
                                    <ul class="bio-list">
                                        <li>Composer for the play The Werewolf (in production, dir. Ivantii Novak)</li>
                                        <li>Co-creator and composer of the SUN-KISSED exhibition</li>
                                        <li>Composer for the short film Say Yes to Life (dir. Yaroslava Velychko)</li>
                                        <li>Assistant composer for an event with a 3000+ audience</li>
                                    </ul>
                                </div>

                                <div class="bio-section">
                                    <div class="bio-h">Education &amp; Mentorship</div>
                                    <p>
                                        Mentored by an award-winning composer collaborating on international projects with Grammy-recognized artists
                                    </p>
                                    <p>
                                        Participant in the Eastern European Music Academy program, featuring:
                                    </p>
                                    <ul class="bio-list">
                                        <li>Vlad Yaremchuk — Programming Director of Ukraine’s largest music festival</li>
                                        <li>Jesper Mardahl — Co-developer of the Music Management program at the Royal Academy of Music</li>
                                        <li>Corina Vilcu — Head of Marketing &amp; Promotion at Global Records</li>
                                        <li>Graduate of the SKVOT Commercial Music Production course taught by Oleksandr Filonenko</li>
                                    </ul>
                                </div>
                            </div>
                            <div class='contact d-flex flex-column'>
                                <h2>Contact:</h2>
                                <div class="contact-row">
                                    <img src="assets/icons/insta.svg" alt="Instagram">
                                    <p>@sytnyk_sounds</p>
                                </div>
                                <div class="contact-row">
                                    <img src="assets/icons/mailto.svg" alt="mailto">
                                    <p>akym.sytnyk@gmail.com</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const items = document.querySelectorAll('.tracks .track');
                const PLAY_SRC = 'assets/icons/play.svg';
                const PAUSE_SRC = 'assets/icons/pause.svg';
                let currentAudio = null, currentItem = null;

                function setBtnState(item, isPlaying) {
                    const btn = item?.querySelector?.('.play-btn');
                    const img = btn?.querySelector?.('img');
                    if (!btn || !img) return;
                    img.src = isPlaying ? PAUSE_SRC : PLAY_SRC;
                    btn.setAttribute('aria-label', isPlaying ? 'Pause' : 'Play');
                }

                items.forEach(item => {
                    const btn = item.querySelector('.play-btn');
                    const audio = item.querySelector('audio');

                    if (!btn || !audio) return;

                    // ensure initial icon
                    setBtnState(item, false);

                    function togglePlay() {
                        // stop previous track
                        if (currentAudio && currentAudio !== audio) {
                            currentAudio.pause();
                            currentAudio.currentTime = 0;
                            currentItem?.classList.remove('is-playing');
                            if (currentItem) setBtnState(currentItem, false);
                        }

                        // toggle this track
                        if (audio.paused) {
                            audio.play();
                            item.classList.add('is-playing');
                            setBtnState(item, true);
                            currentAudio = audio;
                            currentItem = item;
                        } else {
                            audio.pause();
                            item.classList.remove('is-playing');
                            setBtnState(item, false);
                            if (currentAudio === audio) {
                                currentAudio = null;
                                currentItem = null;
                            }
                        }
                    }

                    btn.addEventListener('click', togglePlay);
                    btn.addEventListener('keydown', (e) => {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            togglePlay();
                        }
                    });

                    audio.addEventListener('ended', () => {
                        item.classList.remove('is-playing');
                        setBtnState(item, false);
                        if (currentAudio === audio) {
                            currentAudio = null;
                            currentItem = null;
                        }
                    });
                });
            });
        
        </script>
        <script>
            document.addEventListener('DOMContentLoaded', () => {
              const AudioContextClass = window.AudioContext || window.webkitAudioContext;
              let audioCtx = null;
            
              // Decode sequentially (prevents multiple huge WAV decodes at once)
              let decodeQueue = Promise.resolve();
            
              function getAudioCtx() {
                if (!audioCtx) audioCtx = new AudioContextClass();
                return audioCtx;
              }
            
              document.querySelectorAll('.tracks audio').forEach((audio) => {
                const container = audio.parentElement;
            
                const canvas = document.createElement('canvas');
                canvas.className = 'waveform';
                container.appendChild(canvas);
            
                const ctx = canvas.getContext('2d');
            
                const spacing = 4;
                const barWidth = 4;
                const maxHeight = 35;
            
                let waveformData = null;
                let waveformReady = false;
                let waveformLoading = false;
            
                function calcLayout(width, bars) {
                  let bw = barWidth;
                  let sp = spacing;
            
                  if (!width || !bars) return { bw, sp, total: 0, offsetX: 0 };
            
                  let total = bars * bw + (bars - 1) * sp;
            
                  // If the fixed layout doesn't fit, shrink bars+gaps so everything is visible
                  if (total > width && bars > 1) {
                    const unit = width / (2 * bars - 1); // bar + gap, 1:1 ratio
                    bw = Math.max(1, unit);
                    sp = bw;
                    total = bars * bw + (bars - 1) * sp;
                  }
            
                  const offsetX = Math.max((width - total) / 2, 0);
                  return { bw, sp, total, offsetX };
                }
            
                function sizeCanvas() {
                  const w = Math.max(1, Math.floor(container.clientWidth || container.getBoundingClientRect().width || 1));
                  canvas.width = w;
                  canvas.height = maxHeight;
                }
            
                function drawBar(x, y, w, h) {
                  const radius = 2;
                  const r = Math.min(radius, w / 2, h / 2);
            
                  ctx.beginPath();
                  if (typeof ctx.roundRect === 'function') {
                    ctx.roundRect(x, y, w, h, r);
                  } else {
                    ctx.moveTo(x + r, y);
                    ctx.lineTo(x + w - r, y);
                    ctx.quadraticCurveTo(x + w, y, x + w, y + r);
                    ctx.lineTo(x + w, y + h - r);
                    ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
                    ctx.lineTo(x + r, y + h);
                    ctx.quadraticCurveTo(x, y + h, x, y + h - r);
                    ctx.lineTo(x, y + r);
                    ctx.quadraticCurveTo(x, y, x + r, y);
                  }
                  ctx.closePath();
                  ctx.fill();
                }
            
                function drawWave(progress = 0) {
                  sizeCanvas();
                  const width = canvas.width;
                  const height = canvas.height;
            
                  ctx.clearRect(0, 0, width, height);
                  if (!waveformData) return;
            
                  const p = Math.min(1, Math.max(0, progress));
                  const bars = waveformData.length;
            
                  const { bw, sp, total, offsetX } = calcLayout(width, bars);
                  const highlightIndex = Math.floor(p * bars);
            
                  for (let i = 0; i < bars; i++) {
                    const amp = waveformData[i];
                    const barHeight = amp * maxHeight;
                    const x = offsetX + i * (bw + sp);
                    const y = (height - barHeight) / 2;
            
                    if (x + bw < 0 || x > width) continue;
            
                    ctx.fillStyle = i <= highlightIndex ? '#ffffff' : 'rgba(255,255,255,0.4)';
                    drawBar(x, y, bw, barHeight);
                  }
                }
            
                // Placeholder waveform: instant UI, no WAV download on Library open
                const placeholderBars = 64;
                waveformData = Array.from({ length: placeholderBars }, (_, i) => 0.35 + 0.15 * Math.sin(i / 3));
                drawWave(0);
            
                function computeWaveform(decoded) {
                  const channelData = decoded.getChannelData(0);
                  const segments = 64;
                  const blockSize = Math.max(1, Math.floor(channelData.length / segments));
            
                  const amplitudes = new Array(segments);
            
                  for (let i = 0; i < segments; i++) {
                    let sum = 0;
                    const start = i * blockSize;
                    const end = Math.min(start + blockSize, channelData.length);
                    for (let j = start; j < end; j++) sum += Math.abs(channelData[j]);
                    amplitudes[i] = sum / Math.max(1, (end - start));
                  }
            
                  const maxVal = Math.max(...amplitudes) || 1;
                  waveformData = amplitudes.map((v) => v / maxVal);
                  waveformReady = true;
            
                  const progress = audio.duration ? audio.currentTime / audio.duration : 0;
                  drawWave(progress);
                }
            
                function ensureWaveform() {
                  if (waveformReady || waveformLoading) return;
                  waveformLoading = true;
            
                  decodeQueue = decodeQueue.then(async () => {
                    try {
                      const ctxAudio = getAudioCtx();
                      if (ctxAudio.state === 'suspended') {
                        try { await ctxAudio.resume(); } catch (e) {}
                      }
            
                      const src = audio.querySelector('source')?.src || audio.src;
                      const res = await fetch(src, { cache: 'force-cache' });
                      if (!res.ok) throw new Error('Failed to fetch audio');
            
                      const buf = await res.arrayBuffer();
                      const decoded = await ctxAudio.decodeAudioData(buf);
                      computeWaveform(decoded);
                    } catch (err) {
                      console.warn('Waveform generation failed; keeping placeholder', err);
                    } finally {
                      waveformLoading = false;
                    }
                  });
                }
            
                // Decode only when the user actually plays this track (fast initial load)
                audio.addEventListener('play', ensureWaveform);
            
                audio.addEventListener('timeupdate', () => {
                  if (audio.duration) drawWave(audio.currentTime / audio.duration);
                });
            
                // Seeking logic (works with placeholder or real waveform)
                let seeking = false;
                let activePointerId = null;
            
                function getClientX(evt) {
                  if (evt.touches && evt.touches.length) return evt.touches[0].clientX;
                  if (evt.changedTouches && evt.changedTouches.length) return evt.changedTouches[0].clientX;
                  return evt.clientX;
                }
            
                function updateCurrentTime(evt) {
                  const rect = canvas.getBoundingClientRect();
                  const x = getClientX(evt) - rect.left;
                  const width = canvas.width;
            
                  let ratio;
                  if (waveformData && waveformData.length > 0) {
                    const bars = waveformData.length;
                    const { total, offsetX } = calcLayout(width, bars);
                    const xRel = x - offsetX;
                    ratio = total ? (xRel / total) : 0;
                  } else {
                    ratio = x / width;
                  }
            
                  ratio = Math.min(1, Math.max(0, ratio));
            
                  if (audio.duration) {
                    audio.currentTime = ratio * audio.duration;
                    drawWave(ratio);
                  }
                }
            
                function startSeek(evt) {
                  if (audio.paused) return;
                  seeking = true;
                  activePointerId = evt.pointerId ?? null;
                  updateCurrentTime(evt);
                  if (evt.cancelable) evt.preventDefault();
                }
            
                function moveSeek(evt) {
                  if (!seeking) return;
                  if (activePointerId !== null && evt.pointerId !== undefined && evt.pointerId !== activePointerId) return;
                  updateCurrentTime(evt);
                  if (evt.cancelable) evt.preventDefault();
                }
            
                function endSeek(evt) {
                  if (activePointerId !== null && evt.pointerId !== undefined && evt.pointerId !== activePointerId) return;
                  seeking = false;
                  activePointerId = null;
                }
            
                if ('PointerEvent' in window) {
                  canvas.addEventListener('pointerdown', (e) => {
                    canvas.setPointerCapture?.(e.pointerId);
                    startSeek(e);
                  });
                  canvas.addEventListener('pointermove', moveSeek);
                  canvas.addEventListener('pointerup', (e) => {
                    endSeek(e);
                    canvas.releasePointerCapture?.(e.pointerId);
                  });
                  canvas.addEventListener('pointercancel', endSeek);
                } else {
                  canvas.addEventListener('mousedown', startSeek);
                  window.addEventListener('mousemove', moveSeek);
                  window.addEventListener('mouseup', endSeek);
                  canvas.addEventListener('touchstart', startSeek, { passive: false });
                  canvas.addEventListener('touchmove', moveSeek, { passive: false });
                  canvas.addEventListener('touchend', endSeek);
                  canvas.addEventListener('touchcancel', endSeek);
                }
            
                // Redraw when container width changes (prevents partial waveform on mobile)
                if ('ResizeObserver' in window) {
                  const ro = new ResizeObserver(() => {
                    const p = audio.duration ? audio.currentTime / audio.duration : 0;
                    drawWave(p);
                  });
                  ro.observe(container);
                } else {
                  window.addEventListener('resize', () => {
                    const p = audio.duration ? audio.currentTime / audio.duration : 0;
                    drawWave(p);
                  });
                }
              });
            });
            
        </script>
        <script src="assets/js/vh-fix.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
            crossorigin="anonymous"></script>
            <script src="assets/js/mobile-menu.js"></script>
    </body>

</html>